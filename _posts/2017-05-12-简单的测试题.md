---
layout: post
tags: 题目
---

> 题目来源于USACO月赛，数据范围有所加强


## 题目概述

| 项目名称    | 排序         | 节目录制      | 加法解释           |
| ------- | ---------- | --------- | -------------- |
| 文件名     | sort.\*    | record.\* | interpreter.\* |
| 时间限制    | 1s         |           |                |
| 空间限制    | 512MB      |           |                |
| 测试点数量   | 20         |           |                |
| 测试点分值   | 5          |           |                |
| 额外的编译选项 | -O2 -msse4 |           |                |

### 注意事项

1. 所有文件名、目录名**区分大小写**，请按照题目要求命名。
2. C/C++中main()函数的返回值必须为0。
3. 评测在64位Windows下进行，使用CCR-Plus评测。MinGW-W64 GCC x86\_64 7.1.0，FPC i386 3.0.2。

> 提示：64位程序使用64位整数的效率不会低于32位整数，另外请注意64位整数I/O为**%lld**

## 1.排序

### 题目描述

有n($n\le50000$)个物品，物品i的重量为$w_i$，**每个物品的重量各不相同**。现在需要对这n个物品按照重量排序，已经用天平进行了m($m\le200000$)次比较，一次比较结果用(i,j)表示。求至少再进行多少次比较才能完成排序。

### 输入格式

第一行两个整数n,m

接下来m行，每行两个整数i,j，表示$w_i>w_j$

### 输出格式

一个整数表示至少再进行多少次比较才能完成排序，**如果给出的条件自相矛盾输出-1**

### 输入样例

```
5 5
2 1
1 5
2 3
1 4
3 4
```

### 输出样例

```
3
```

### 样例解释

有5个物品，已经比较了5次。因为$w_2>w_1>w_5,w_2>w_3>w_4$，所以物品2是最重的。但是，还需要比较物品1和物品3的重量，才能知道第二重的物品。同理，还需要比较物品4和物品5，物品5和物品3，才能完成排序。

### 数据范围

- 对于30%的数据，$n\le500,m\le5000$

- 对于60%的数据，$n\le3000$

- 对于100%的数据，$n\le50000,m\le200000$

